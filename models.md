
## üß© **–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (–º–æ–¥–µ–ª–∏)**

–ú—ã –º–æ–¥–µ–ª–∏—Ä—É–µ–º 2 –∫–ª—é—á–µ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–∞:

```
üóìÔ∏è Event ‚Äî –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ
üë§ Booking ‚Äî –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
```

---

### üß± 1. –ú–æ–¥–µ–ª—å `Event` ‚Äî üóìÔ∏è –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ

```python
class Event(models.Model):
    title = models.CharField(max_length=200)  # –ù–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
    description = models.TextField(blank=True)  # –û–ø–∏—Å–∞–Ω–∏–µ
    event_date = models.DateField()  # –î–∞—Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è
    start_time = models.TimeField(blank=True, null=True)  # –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ (–æ–ø—Ü.)
    location = models.CharField(max_length=200)  # –ê–¥—Ä–µ—Å / –º–µ—Å—Ç–æ
    city = models.CharField(max_length=100, blank=True, null=True)  # –ì–æ—Ä–æ–¥
    genre = models.CharField(max_length=100)  # –¢–∏–ø —Å–æ–±—ã—Ç–∏—è (–∫–æ–Ω—Ü–µ—Ä—Ç, –≤—ã—Å—Ç–∞–≤–∫–∞...)
    ticket_price = models.DecimalField(max_digits=10, decimal_places=2)  # –¶–µ–Ω–∞
    available_tickets = models.PositiveIntegerField(default=100)  # –û—Å—Ç–∞—Ç–æ–∫ –±–∏–ª–µ—Ç–æ–≤
    image = models.ImageField(upload_to='event_images/', blank=True, null=True)  # –ê—Ñ–∏—à–∞
    rules = models.TextField(blank=True, null=True)  # –ü—Ä–∞–≤–∏–ª–∞ –ø–æ—Å–µ—â–µ–Ω–∏—è
    event_url = models.URLField(blank=True, null=True)  # –í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞
    source = models.CharField(max_length=50, blank=True, null=True)  # –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
```

#### üîç –ü–æ—è—Å–Ω–µ–Ω–∏–µ:

| –ü–æ–ª–µ                | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                               |
| ------------------- | -------------------------------------------------------- |
| `title`             | –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –∏ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö                      |
| `description`       | –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π              |
| `event_date`        | –∫–ª—é—á–µ–≤–∞—è –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞                        |
| `start_time`        | —É—Ç–æ—á–Ω–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ                        |
| `location/city`     | –ø–æ–º–æ–≥–∞—é—Ç –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–æ–∏—Å–∫–µ                           |
| `genre`             | –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Ç–∏–ø—É                            |
| `ticket_price`      | –º–æ–∂–µ—Ç –±—ã—Ç—å 0 (–±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ) –∏–ª–∏ –ø–ª–∞—Ç–Ω–æ–µ            |
| `available_tickets` | –Ω—É–∂–Ω–æ –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π                       |
| `image`             | –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è          |
| `rules`             | —Ç–µ–∫—Å—Ç—ã "–≤—Ö–æ–¥ —Å –ø–∞—Å–ø–æ—Ä—Ç–æ–º", "–º–∞—Å–∫–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã" –∏ —Ç.–ø.    |
| `event_url`         | –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫              |
| `source`            | —É–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–∫—É–¥–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, manual/import/API) |

---

### üßæ 2. –ú–æ–¥–µ–ª—å `Booking` ‚Äî üë§ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
class Booking(models.Model):
    user_name = models.CharField(max_length=100)  # –ò–º—è
    user_email = models.EmailField()  # Email
    user_telegram = models.CharField(max_length=100, blank=True, null=True)  # @username (–æ–ø—Ü.)
    event = models.ForeignKey(Event, on_delete=models.CASCADE, related_name='bookings')  # —Å–≤—è–∑–∫–∞
    booking_date = models.DateField(auto_now_add=True)  # –î–∞—Ç–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
```

#### üîç –ü–æ—è—Å–Ω–µ–Ω–∏–µ:

| –ü–æ–ª–µ            | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                          |
| --------------- | ------------------------------------------------------------------- |
| `user_name`     | –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∞–¥–º–∏–Ω–∫–µ –∏ –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö                             |
| `user_email`    | –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email-–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π                       |
| `user_telegram` | –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram                             |
| `event` (FK)    | —Å–≤—è–∑—å N:1 —Å `Event` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—Ä–æ–Ω–∏—Ä—É–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ |
| `booking_date`  | –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è, –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è              |

üìå Django `on_delete=models.CASCADE` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è ‚Äî —Å–≤—è–∑–∞–Ω–Ω—ã–µ –±—Ä–æ–Ω–∏ —É–¥–∞–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–ª–æ–≥–∏—á–Ω–æ).

---

## üîó –°–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏

```txt
Event (1) <‚Äî‚Äî‚Äî (N) Booking
```

* –û–¥–Ω–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–Ω–æ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π.
* –û–¥–Ω–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤—è–∑–∞–Ω–æ —Ç–æ–ª—å–∫–æ —Å –æ–¥–Ω–∏–º –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ–º.

---

## üõ°Ô∏è –ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ (–≤ –∫–æ–¥–µ, –Ω–æ —Å–≤—è–∑–∞–Ω—ã —Å –ë–î)

* ‚ùó –£ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ email) –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å 2 –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ —Å–æ–±—ã—Ç–∏—è
* ‚ùó –ö–æ–ª-–≤–æ –±–∏–ª–µ—Ç–æ–≤ –Ω–µ –º–æ–∂–µ—Ç —É–π—Ç–∏ –≤ –º–∏–Ω—É—Å
* ‚úÖ –ü–æ—Å–ª–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: `available_tickets -= 1`, —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–ø–∏—Å—å Booking

---

## üß† –í–æ–∑–º–æ–∂–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

–ü–æ–∑–∂–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

| –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å               | –ß—Ç–æ –Ω—É–∂–Ω–æ                                     |
| ------------------------- | --------------------------------------------- |
| –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | `User` model + `ForeignKey` –≤ `Booking`       |
| –û–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–∞             | `Order`, `Payment` —Ç–∞–±–ª–∏—Ü—ã                    |
| –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ —Å–ø–∏–∫–µ—Ä—ã      | `Session`, `Speaker`, `Tag` –º–æ–¥–µ–ª–∏            |
| –õ–æ–∫–∞—Ü–∏–∏ –∫–∞–∫ —Å—É—â–Ω–æ—Å—Ç–∏      | `Location` –º–æ–¥–µ–ª—å —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º –∞–¥—Ä–µ—Å–æ–º –∏ –∑–∞–ª–æ–º |

